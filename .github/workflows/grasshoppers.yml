name: GRASSHOPPERS
on: 
  schedule:
    - cron:  '0 20 * * *'
  workflow_dispatch:
    
defaults:
  run:
    shell: bash
    working-directory: ./grass
    
jobs:
  hoppers-hop:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          token: ${{ secrets.PERSONAL_ACCESS_TOKEN }}
      - name: a frog now starts hopping
        run: |
          sed -i 's/.\{4\}â•®$//g' grass.txt
          hopping_count=$(wc -l grass.txt | awk '{ print $1 }') ;
          printf "â”%.0s" $(eval echo "{1..$hopping_count}") >> grass.txt ;
          printf "âŒ’ðŸ¸" >> grass.txt ;
      - name: a grasshopper meets a new friend
        run: |
          printf "ðŸ¦—âŒ’â” â•®\n" >> grass.txt ;
          cat grass.txt ;
      - name: two friends hop, hop, hop.
        run: |
          git config --global user.name 'SgOm'
          git config --global user.email 'juj2660@naver.com'
          git commit -am "Hop, hop, hop."
          git push
